{"version":3,"file":"mwc-slider.js","sourceRoot":"","sources":["src/mwc-slider.ts"],"names":[],"mappings":";;;;;;AAAA;;;;;;;;;;;;;;;EAeE;AACF,OAAO,EAAC,WAAW,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,aAAa,EAAsB,MAAM,oCAAoC,CAAC;AACpI,OAAO,EAAC,QAAQ,EAAC,MAAM,kCAAkC,CAAC;AAC1D,OAAO,EAAC,MAAM,EAAC,MAAM,+BAA+B,CAAC;AACrD,OAAO,EAAC,KAAK,EAAC,MAAM,qBAAqB,CAAC;AAC1C,OAAO,mBAAmB,MAAM,gCAAgC,CAAC;AAEjE,MAAM,EAAC,WAAW,EAAE,YAAY,EAAC,GAAG,mBAAmB,CAAC,OAAO,CAAC;AA6BhE,IAAa,MAAM,GAAnB,MAAa,MAAO,SAAQ,WAAW;IADvC;;QAIqB,uBAAkB,GAA4B,mBAAmB,CAAC;QAwBrF,UAAK,GAAG,CAAC,CAAC;QAMV,QAAG,GAAG,CAAC,CAAC;QAMR,QAAG,GAAG,GAAG,CAAC;QAMV,SAAI,GAAG,CAAC,CAAC;QAMT,aAAQ,GAAG,KAAK,CAAC;QAGjB,aAAQ,GAAG,KAAK,CAAC;QAMjB,YAAO,GAAG,KAAK,CAAC;QAGR,gBAAW,GAAG,CAAC,CAAC;IAyF1B,CAAC;IAvFC,WAAW;QACT,OAAO,KAAK,CAAC;IACf,CAAC;IAED,4CAA4C;IAC5C,MAAM;QACJ,MAAM,EAAC,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,EAAC,GAAG,IAAI,CAAC;QAC/E,MAAM,aAAa,GAAG;YACpB,sBAAsB,EAAE,QAAQ;YAChC,6BAA6B,EAAE,OAAO,IAAI,QAAQ;SACnD,CAAC;QACF,OAAO,IAAI,CAAA;QACP,IAAI,CAAC,WAAW,EAAE;+BACK,QAAQ,CAAC,aAAa,CAAC;yBAC7B,GAAG,oBAAoB,GAAG,oBAAoB,KAAK;yBACnD,QAAQ,gBAAgB,IAAI;;;UAG3C,QAAQ,IAAI,OAAO,CAAC,CAAC,CAAC,IAAI,CAAA;YACxB,MAAM,CAAC,IAAI,KAAK,CAAC,WAAW,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,CAAA,8CAA8C,CAAC;eACrF,CAAC,CAAC,CAAC,EAAE;;;;UAIV,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAA;;eAEV,CAAC,CAAC,CAAC,EAAE;;;;;;WAMT,CAAC;IACV,CAAC;IAES,aAAa;QACrB,yBACK,KAAK,CAAC,aAAa,EAAE,IACxB,YAAY,EAAE,CAAC,IAAY,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,EAC/D,YAAY,EAAE,CAAC,IAAY,EAAE,KAAa,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,EACrF,eAAe,EAAE,CAAC,IAAY,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EACrE,mBAAmB,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,EAC/D,WAAW,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EACxC,0BAA0B,EAAE,CAAC,IAAY,EAAE,OAAsB,EAAE,EAAE,CACnE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,EAAE,OAAO,CAAC,EAC9C,4BAA4B,EAAE,CAAC,IAAY,EAAE,OAAsB,EAAE,EAAE,CACrE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,EAAE,OAAO,CAAC,EACjD,wCAAwC,EAAE,CAAC,IAAY,EAAE,OAAsB,EAAE,EAAE,CACjF,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAI,EAAE,OAAO,CAAC,EACrD,0CAA0C,EAAE,CAAC,IAAY,EAAE,OAAsB,EAAE,EAAE,CACnF,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,IAAI,EAAE,OAAO,CAAC,EACxD,8BAA8B,EAAE,CAAC,IAAY,EAAE,OAAsB,EAAE,EAAE,CACvE,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,OAAO,CAAC,EAC/C,gCAAgC,EAAE,CAAC,IAAY,EAAE,OAAsB,EAAE,EAAE,CACzE,QAAQ,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,OAAO,CAAC,EAClD,qBAAqB,EAAE,CAAC,OAAsB,EAAE,EAAE,CAChD,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,OAAO,CAAC,EAC5C,uBAAuB,EAAE,CAAC,OAAsB,EAAE,EAAE,CAClD,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,OAAO,CAAC,EAC/C,WAAW,EAAE,GAAG,EAAE;gBAChB,MAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;gBAC5C,IAAI,KAAK,KAAK,IAAI,CAAC,KAAK,EAAE;oBACxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBACnB,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,WAAW,EAAE,EAAC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC;iBACnG;YACH,CAAC,EACD,YAAY,EAAE,GAAG,EAAE;gBACjB,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,YAAY,EAAE,EAAC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC;YACrG,CAAC,EACD,8BAA8B,EAAE,CAAC,YAAoB,EAAE,KAAa,EAAE,EAAE,CACtE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,EAAE,KAAK,CAAC,EAC5D,qBAAqB,EAAE,CAAC,YAAoB,EAAE,KAAa,EAAE,EAAE,CAC7D,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,EAAE,KAAK,CAAC,EAC1D,cAAc,EAAE,CAAC,KAAa,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,KAAK,CAAC,QAAQ,EAAE,EAC9E,kBAAkB,EAAE,CAAC,UAAkB,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,GAAG,UAAU,EACzE,kBAAkB,EAAE,GAAG,EAAE,GAAE,CAAC,EAC5B,gCAAgC,EAAE,CAAC,YAAoB,EAAE,KAAa,EAAE,EAAE;YACxE,yFAAyF;YACxF,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,sCAAsC,CAAiB;gBAC/E,KAAK,CAAC,WAAW,CAAC,YAAY,EAAE,KAAK,CAAC,EAC5C,KAAK,EAAE,GAAG,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,KAAK,KAAK,IAC/D;IACJ,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;IAC9B,CAAC;CACF,CAAA;AAlJC;IADC,KAAK,CAAC,aAAa,CAAC;uCACU;AAG/B;IADC,KAAK,CAAC,aAAa,CAAC;2CACe;AAGpC;IADC,KAAK,CAAC,8BAA8B,CAAC;8CACC;AAGvC;IADC,KAAK,CAAC,oBAAoB,CAAC;4CACS;AAGrC;IADC,KAAK,CAAC,+BAA+B,CAAC;yCACL;AAGlC;IADC,KAAK,CAAC,qCAAqC,CAAC;oDACA;AAM7C;IAJC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;IACxB,QAAQ,CAAC,UAAuB,KAAa;QAAG,CAAC,CAAA;QAChD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACrC,CAAC,CAAC;qCACQ;AAMV;IAJC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;IACxB,QAAQ,CAAC,UAAuB,KAAa;QAC5C,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC,CAAC;mCACM;AAMR;IAJC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;IACxB,QAAQ,CAAC,UAAuB,KAAa;QAC5C,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC,CAAC;mCACQ;AAMV;IAJC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;IACxB,QAAQ,CAAC,UAAuB,KAAa;QAC5C,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC,CAAC;oCACO;AAMT;IAJC,QAAQ,CAAC,EAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;IACxC,QAAQ,CAAC,UAAuB,KAAc;QAC7C,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC,CAAC;wCACe;AAGjB;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;wCACxB;AAMjB;IAJC,QAAQ,CAAC,EAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;IACxC,QAAQ,CAAC;QACR,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,CAAC;IACxC,CAAC,CAAC;uCACc;AAGhB;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;2CACD;AA/Db,MAAM;IADlB,aAAa,CAAC,YAAmB,CAAC;GACtB,MAAM,CAwJlB;SAxJY,MAAM","sourcesContent":["/**\n@license\nCopyright 2018 Google Inc. All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport {FormElement, html, property, observer, query, customElement, Adapter, Foundation} from '@material/mwc-base/form-element.js';\nimport {classMap} from 'lit-html/directives/class-map.js';\nimport {repeat} from 'lit-html/directives/repeat.js';\nimport {style} from './mwc-slider-css.js';\nimport MDCSliderFoundation from '@material/slider/foundation.js';\n\nconst {INPUT_EVENT, CHANGE_EVENT} = MDCSliderFoundation.strings;\n\nexport interface SliderFoundation extends Foundation {\n  layout(): void;\n  getValue(): number;\n  setValue(value: number): void;\n  getMax(): number;\n  setMax(value: number): void;\n  getMin(): number;\n  setMin(value: number): void;\n  getStep(): number;\n  setStep(value: number): void;\n  isDisabled(): boolean;\n  setDisabled(value: boolean): void;\n  setupTrackMarker(): void;\n}\n\nexport declare var SliderFoundation: {\n  prototype: SliderFoundation;\n  new(adapter: Adapter): SliderFoundation;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'mwc-slider': Slider;\n  }\n}\n\n@customElement('mwc-slider' as any)\nexport class Slider extends FormElement {\n  protected mdcFoundation!: SliderFoundation;\n\n  protected readonly mdcFoundationClass: typeof SliderFoundation = MDCSliderFoundation;\n\n  @query('.mdc-slider')\n  protected mdcRoot!: HTMLElement\n\n  @query('.mdc-slider')\n  protected formElement!: HTMLElement;\n\n  @query('.mdc-slider__thumb-container')\n  protected thumbContainer!: HTMLElement;\n\n  @query('.mdc-slider__track')\n  protected trackElement!: HTMLElement;\n\n  @query('.mdc-slider__pin-value-marker')\n  protected pinMarker!: HTMLElement;\n\n  @query('.mdc-slider__track-marker-container')\n  protected trackMarkerContainer!: HTMLElement;\n\n  @property({type: Number})\n  @observer(function(this: Slider, value: number) {1\n    this.mdcFoundation.setValue(value);\n  })\n  value = 0;\n\n  @property({type: Number})\n  @observer(function(this: Slider, value: number) {\n    this.mdcFoundation.setMin(value);\n  })\n  min = 0;\n\n  @property({type: Number})\n  @observer(function(this: Slider, value: number) {\n    this.mdcFoundation.setMax(value);\n  })\n  max = 100;\n\n  @property({type: Number})\n  @observer(function(this: Slider, value: number) {\n    this.mdcFoundation.setStep(value);\n  })\n  step = 0;\n\n  @property({type: Boolean, reflect: true})\n  @observer(function(this: Slider, value: boolean) {\n    this.mdcFoundation.setDisabled(value);\n  })\n  disabled = false;\n\n  @property({type: Boolean, reflect: true})\n  discrete = false;\n\n  @property({type: Boolean, reflect: true})\n  @observer(function(this: Slider) {\n    this.mdcFoundation.setupTrackMarker();\n  })\n  markers = false;\n\n  @property({type: Number})\n  private _numMarkers = 0;\n\n  renderStyle() {\n    return style;\n  }\n\n  // TODO(sorvell) #css: needs a default width\n  render() {\n    const {value, min, max, step, disabled, discrete, markers, _numMarkers} = this;\n    const hostClassInfo = {\n      'mdc-slider--discrete': discrete,\n      'mdc-slider--display-markers': markers && discrete,\n    };\n    return html`\n      ${this.renderStyle()}\n      <div class=\"mdc-slider ${classMap(hostClassInfo)}\" tabindex=\"0\" role=\"slider\"\n        aria-valuemin=\"${min}\" aria-valuemax=\"${max}\" aria-valuenow=\"${value}\"\n        aria-disabled=\"${disabled}\" data-step=\"${step}\">\n      <div class=\"mdc-slider__track-container\">\n        <div class=\"mdc-slider__track\"></div>\n        ${discrete && markers ? html`<div class=\"mdc-slider__track-marker-container\">\n          ${repeat(new Array(_numMarkers), () => html`<div class=\"mdc-slider__track-marker\"></div>`)}\n        </div>` : ''}\n      </div>\n      <div class=\"mdc-slider__thumb-container\">\n        <!-- TODO: use cache() directive -->\n        ${discrete ? html`<div class=\"mdc-slider__pin\">\n          <span class=\"mdc-slider__pin-value-marker\"></span>\n        </div>` : ''}\n        <svg class=\"mdc-slider__thumb\" width=\"21\" height=\"21\">\n          <circle cx=\"10.5\" cy=\"10.5\" r=\"7.875\"></circle>\n        </svg>\n        <div class=\"mdc-slider__focus-ring\"></div>\n      </div>\n    </div>`;\n  }\n\n  protected createAdapter() {\n    return {\n      ...super.createAdapter(),\n      getAttribute: (name: string) => this.mdcRoot.getAttribute(name),\n      setAttribute: (name: string, value: string) => this.mdcRoot.setAttribute(name, value),\n      removeAttribute: (name: string) => this.mdcRoot.removeAttribute(name),\n      computeBoundingRect: () => this.mdcRoot.getBoundingClientRect(),\n      getTabIndex: () => this.mdcRoot.tabIndex,\n      registerInteractionHandler: (type: string, handler: EventListener) =>\n        this.mdcRoot.addEventListener(type, handler),\n      deregisterInteractionHandler: (type: string, handler: EventListener) =>\n        this.mdcRoot.removeEventListener(type, handler),\n      registerThumbContainerInteractionHandler: (type: string, handler: EventListener) =>\n        this.thumbContainer.addEventListener(type, handler),\n      deregisterThumbContainerInteractionHandler: (type: string, handler: EventListener) =>\n        this.thumbContainer.removeEventListener(type, handler),\n      registerBodyInteractionHandler: (type: string, handler: EventListener) =>\n        document.body.addEventListener(type, handler),\n      deregisterBodyInteractionHandler: (type: string, handler: EventListener) =>\n        document.body.removeEventListener(type, handler),\n      registerResizeHandler: (handler: EventListener) =>\n        window.addEventListener('resize', handler),\n      deregisterResizeHandler: (handler: EventListener) =>\n        window.removeEventListener('resize', handler),\n      notifyInput: () => {\n        const value = this.mdcFoundation.getValue();\n        if (value !== this.value) {\n          this.value = value;\n          this.dispatchEvent(new CustomEvent(INPUT_EVENT, {detail: this, bubbles: true, cancelable: true}));\n        }\n      },\n      notifyChange: () => {\n        this.dispatchEvent(new CustomEvent(CHANGE_EVENT, {detail: this, bubbles: true, cancelable: true}));\n      },\n      setThumbContainerStyleProperty: (propertyName: string, value: string) =>\n        this.thumbContainer.style.setProperty(propertyName, value),\n      setTrackStyleProperty: (propertyName: string, value: string) =>\n        this.trackElement.style.setProperty(propertyName, value),\n      setMarkerValue: (value: number) => this.pinMarker.innerText = value.toString(),\n      appendTrackMarkers: (numMarkers: number) => this._numMarkers = numMarkers,\n      removeTrackMarkers: () => {},\n      setLastTrackMarkersStyleProperty: (propertyName: string, value: string) =>\n        // We remove and append new nodes, thus, the last track marker must be dynamically found.\n        (this.mdcRoot.querySelector('.mdc-slider__track-marker:last-child') as HTMLElement).\n            style.setProperty(propertyName, value),\n      isRTL: () => getComputedStyle(this.mdcRoot).direction === 'rtl',\n    };\n  }\n\n  layout() {\n    this.mdcFoundation.layout();\n  }\n}\n"]}